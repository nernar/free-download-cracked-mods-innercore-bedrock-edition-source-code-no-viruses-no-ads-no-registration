function blood_dungeon(x,y,z){
  World.setBlock(x - 3, y + 1, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y + 1, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 1, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 3, y + 1, z + 1,  BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 1, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y + 1, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 3, y + 1, z, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 1, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 1, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 2, y + 1, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 1, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y + 1, z - 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y + 1, z - 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 3, y + 1, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 3, y + 1, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y + 1, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 1, z - 2, BlockID.bloodbrick, 0);

World.setBlock(x - 3, y + 4, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 4, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y + 4, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 4, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 3, y + 4, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 4, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 4, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y + 4, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 3, y + 4, z, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 4, z, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 4, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 4, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 2, y + 4, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 4, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y + 4, z - 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y + 4, z - 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 3, y + 4, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 3, y + 4, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y + 4, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 4, z - 2, BlockID.bloodbrick, 0);

World.setBlock(x - 3, y + 2, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 2, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y + 2, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 2, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 3, y + 2, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 2, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 2, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y + 2, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 3, y + 2, z, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 2, z, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 2, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 2, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 2, y + 2, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 2, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y + 2, z - 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y + 2, z - 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 3, y + 2, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 3, y + 2, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y + 2, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 2, z - 2, BlockID.bloodbrick, 0);

World.setBlock(x - 3, y + 3, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 3, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y + 3, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 3, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 3, y + 3, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 3, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 3, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y + 3, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 3, y + 3, z, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 3, z, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 3, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 3, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 2, y + 3, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 3, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y + 3, z - 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y + 3, z - 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 3, y + 3, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 3, y + 3, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y + 3, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y + 3, z - 2, BlockID.bloodbrick, 0);


  World.setBlock(x - 3, y, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 3, y, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 3, y, z, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y, z, BlockID.bloodbrick, 0);
  World.setBlock(x, y, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x, y, z - 3, BlockID.bloodbrick, 0);  
  World.setBlock(x - 2, y, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y, z - 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y, z - 3, BlockID.bloodbrick, 0);
  World.setBlock(x - 3, y, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 3, y, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y, z + 3, BlockID.bloodbrick, 0);
  World.setBlock(x + 3, y, z - 2, BlockID.bloodbrick, 0);

 World.setBlock(x - 1, y + 4, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y + 4, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 4, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y + 4, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y + 4, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y + 4, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x +2, y + 4, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y + 4, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y + 4, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 4, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y + 4, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y + 4, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y + 4, z, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y + 4, z, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 4, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 4, z - 2, BlockID.bloodbrick, 0);
World.setBlock(x - 1, y + 4, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y + 4, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 4, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 4, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 4, z, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y + 4, z, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y + 4, z, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 4, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x, y + 4, z - 1, BlockID.bloodbrick, 0);
  
  World.setBlock(x - 1, y, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x +2, y, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y, z - 2, BlockID.bloodbrick, 0);
  World.setBlock(x - 2, y, z, BlockID.bloodbrick, 0);
  World.setBlock(x + 2, y, z, BlockID.bloodbrick, 0);
  World.setBlock(x, y, z + 2, BlockID.bloodbrick, 0);
  World.setBlock(x, y, z - 2, BlockID.bloodbrick, 0);
 
World.setBlock(x - 1, y, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x, y, z, BlockID.bloodbrick, 0);
  World.setBlock(x - 1, y, z, BlockID.bloodbrick, 0);
  World.setBlock(x + 1, y, z, BlockID.bloodbrick, 0);
  World.setBlock(x, y, z + 1, BlockID.bloodbrick, 0);
  World.setBlock(x, y, z - 1, BlockID.bloodbrick, 0);
  World.setBlock(x, y - 1, z, 54, 4);
  World.setBlock(x - 1, y + 1, z + 1, BlockID.gravestone, 0);
  World.setBlock(x - 1, y + 1, z - 1, BlockID.gravestone, 0);

 World.setBlock(x + 3, y + 1, z, BlockID.ironfence);
 World.setBlock(x + 3, y + 1, z - 1, BlockID.ironfence);
 World.setBlock(x + 3, y + 1, z + 1, BlockID.ironfence);
 World.setBlock(x + 3, y + 2, z, BlockID.ironfence);
 World.setBlock(x + 3, y + 2, z - 1, BlockID.ironfence);
 World.setBlock(x + 3, y + 2, z + 1, BlockID.ironfence);
 World.setBlock(x + 3, y + 3, z, BlockID.ironfence);
 World.setBlock(x + 3, y + 3, z - 1, BlockID.ironfence);
 World.setBlock(x + 3, y + 3, z + 1, BlockID.ironfence);

World.setBlock(x - 3, y + 2, z + 1, BlockID.bloodbrick, 0);
World.setBlock(x - 3, y + 2, z - 1, BlockID.bloodbrick, 0);
World.setBlock(x - 3, y + 1, z, BlockID.bloodbrick, 0);
World.setBlock(x - 3, y + 3, z, BlockID.bloodbrick, 0);
World.setBlock(x - 3, y + 2, z, BlockID.bloodbrick, 0);

World.setBlock(x + 1, y + 1, z + 3, BlockID.bloodbrick, 0);
World.setBlock(x - 1, y + 1, z + 3, BlockID.bloodbrick, 0);
World.setBlock(x + 1, y + 2, z + 3, BlockID.ironfence, 0);
World.setBlock(x - 1, y + 2, z + 3, BlockID.ironfence, 0);
World.setBlock(x + 1, y + 3, z + 3, BlockID.bloodbrick, 0);
World.setBlock(x - 1, y + 3, z + 3, BlockID.bloodbrick, 0);
World.setBlock(x + 1, y + 1, z - 3, BlockID.bloodbrick, 0);
World.setBlock(x - 1, y + 1, z - 3, BlockID.bloodbrick, 0);
World.setBlock(x + 1, y + 2, z - 3, BlockID.ironfence, 0);
World.setBlock(x - 1, y + 2, z - 3, BlockID.ironfence, 0);
World.setBlock(x + 1, y + 3, z - 3, BlockID.bloodbrick, 0);
World.setBlock(x - 1, y + 3, z - 3, BlockID.bloodbrick, 0);
World.setBlock(x + 1, y - 1, z, BlockID.bloodbrick, 0);
World.setBlock(x - 1, y - 1, z, BlockID.bloodbrick, 0);
World.setBlock(x, y - 2, z, BlockID.bloodbrick, 0);
World.setBlock(x, y - 1, z - 1, BlockID.bloodbrick, 0);
World.setBlock(x, y - 1, z + 1, BlockID.bloodbrick, 0);
fillChest(x, y - 1, z);
} 

Callback.addCallback("GenerateChunk", function(a,b){
	for(var i = 0; i < 60; i++){
		d=GenerationUtils.randomCoords(a,b,1,250);
		for(var k=60;k<256;k++){
			if (Math.random() < .0002){
		if(World.getBlockID(d.x + 1,k,d.z)==BlockID.blooddirt){
				if(World.getBlockID(d.x - 1,k,d.z)==BlockID.blooddirt){
for(var q=1;q<10;q++){
if(World.getBlockID(d.x,k+q,d.z)!=0){
return
}
}blood_dungeon(d.x,k+1,d.z);return}
		}
		} 
	 } 
	}
	});